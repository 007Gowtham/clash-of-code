{
    "info": {
        "_postman_id": "clash-of-code-metadata-test",
        "name": "Clash of Code - Metadata-Driven Questions Test",
        "description": "Test collection for metadata-driven wrapper generation system with all 5 sample questions",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:3001",
            "type": "string"
        },
        {
            "key": "roomCode",
            "value": "SAMPLE001",
            "type": "string"
        },
        {
            "key": "authToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "userId",
            "value": "",
            "type": "string"
        },
        {
            "key": "questionId_twoSum",
            "value": "",
            "type": "string"
        },
        {
            "key": "questionId_reverseList",
            "value": "",
            "type": "string"
        },
        {
            "key": "questionId_maxDepth",
            "value": "",
            "type": "string"
        },
        {
            "key": "questionId_searchMatrix",
            "value": "",
            "type": "string"
        },
        {
            "key": "questionId_isValid",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "1. Setup",
            "item": [
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.collectionVariables.set('authToken', response.token);",
                                    "    pm.collectionVariables.set('userId', response.user.id);",
                                    "    console.log('✅ Logged in successfully');",
                                    "    console.log('User ID:', response.user.id);",
                                    "} else {",
                                    "    console.log('❌ Login failed');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"sample@example.com\",\n  \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "auth",
                                "login"
                            ]
                        }
                    }
                },
                {
                    "name": "Get Questions from Room",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const questions = pm.response.json();",
                                    "    console.log('✅ Found', questions.length, 'questions');",
                                    "    ",
                                    "    questions.forEach(q => {",
                                    "        console.log('-', q.title, '(ID:', q.id + ')');",
                                    "        ",
                                    "        if (q.title === 'Two Sum') {",
                                    "            pm.collectionVariables.set('questionId_twoSum', q.id);",
                                    "        } else if (q.title === 'Reverse Linked List') {",
                                    "            pm.collectionVariables.set('questionId_reverseList', q.id);",
                                    "        } else if (q.title === 'Maximum Depth of Binary Tree') {",
                                    "            pm.collectionVariables.set('questionId_maxDepth', q.id);",
                                    "        } else if (q.title === 'Search a 2D Matrix') {",
                                    "            pm.collectionVariables.set('questionId_searchMatrix', q.id);",
                                    "        } else if (q.title === 'Valid Parentheses') {",
                                    "            pm.collectionVariables.set('questionId_isValid', q.id);",
                                    "        }",
                                    "    });",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/rooms/{{roomCode}}/questions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "rooms",
                                "{{roomCode}}",
                                "questions"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "2. Two Sum (Array)",
            "item": [
                {
                    "name": "Get Two Sum Question",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/questions/{{questionId_twoSum}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "questions",
                                "{{questionId_twoSum}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Two Sum - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_twoSum}}\",\n  \"language\": \"cpp\",\n  \"code\": \"vector<int> twoSum(vector<int>& nums, int target) {\\n    unordered_map<int, int> map;\\n    for (int i = 0; i < nums.size(); i++) {\\n        int complement = target - nums[i];\\n        if (map.find(complement) != map.end()) {\\n            return {map[complement], i};\\n        }\\n        map[nums[i]] = i;\\n    }\\n    return {};\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Two Sum - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_twoSum}}\",\n  \"language\": \"cpp\",\n  \"code\": \"vector<int> twoSum(vector<int>& nums, int target) {\\n    unordered_map<int, int> map;\\n    for (int i = 0; i < nums.size(); i++) {\\n        int complement = target - nums[i];\\n        if (map.find(complement) != map.end()) {\\n            return {map[complement], i};\\n        }\\n        map[nums[i]] = i;\\n    }\\n    return {};\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/submit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "submit"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Two Sum - Java",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_twoSum}}\",\n  \"language\": \"java\",\n  \"code\": \"public static int[] twoSum(int[] nums, int target) {\\n    Map<Integer, Integer> map = new HashMap<>();\\n    for (int i = 0; i < nums.length; i++) {\\n        int complement = target - nums[i];\\n        if (map.containsKey(complement)) {\\n            return new int[] { map.get(complement), i };\\n        }\\n        map.put(nums[i], i);\\n    }\\n    return new int[] {};\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Two Sum - Python",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_twoSum}}\",\n  \"language\": \"python\",\n  \"code\": \"def twoSum(nums, target):\\n    map = {}\\n    for i, num in enumerate(nums):\\n        complement = target - num\\n        if complement in map:\\n            return [map[complement], i]\\n        map[num] = i\\n    return []\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "3. Reverse Linked List",
            "item": [
                {
                    "name": "Get Reverse Linked List Question",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/questions/{{questionId_reverseList}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "questions",
                                "{{questionId_reverseList}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Reverse Linked List - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_reverseList}}\",\n  \"language\": \"cpp\",\n  \"code\": \"ListNode* reverseList(ListNode* head) {\\n    ListNode* prev = nullptr;\\n    ListNode* curr = head;\\n    while (curr != nullptr) {\\n        ListNode* next = curr->next;\\n        curr->next = prev;\\n        prev = curr;\\n        curr = next;\\n    }\\n    return prev;\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Reverse Linked List - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_reverseList}}\",\n  \"language\": \"cpp\",\n  \"code\": \"ListNode* reverseList(ListNode* head) {\\n    ListNode* prev = nullptr;\\n    ListNode* curr = head;\\n    while (curr != nullptr) {\\n        ListNode* next = curr->next;\\n        curr->next = prev;\\n        prev = curr;\\n        curr = next;\\n    }\\n    return prev;\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/submit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "submit"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "4. Maximum Depth of Binary Tree",
            "item": [
                {
                    "name": "Get Max Depth Question",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/questions/{{questionId_maxDepth}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "questions",
                                "{{questionId_maxDepth}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Max Depth - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_maxDepth}}\",\n  \"language\": \"cpp\",\n  \"code\": \"int maxDepth(TreeNode* root) {\\n    if (root == nullptr) return 0;\\n    return 1 + max(maxDepth(root->left), maxDepth(root->right));\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Max Depth - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_maxDepth}}\",\n  \"language\": \"cpp\",\n  \"code\": \"int maxDepth(TreeNode* root) {\\n    if (root == nullptr) return 0;\\n    return 1 + max(maxDepth(root->left), maxDepth(root->right));\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/submit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "submit"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "5. Search a 2D Matrix",
            "item": [
                {
                    "name": "Get Search Matrix Question",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/questions/{{questionId_searchMatrix}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "questions",
                                "{{questionId_searchMatrix}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Search Matrix - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_searchMatrix}}\",\n  \"language\": \"cpp\",\n  \"code\": \"bool searchMatrix(vector<vector<int>>& matrix, int target) {\\n    if (matrix.empty() || matrix[0].empty()) return false;\\n    int m = matrix.size(), n = matrix[0].size();\\n    int left = 0, right = m * n - 1;\\n    while (left <= right) {\\n        int mid = left + (right - left) / 2;\\n        int midVal = matrix[mid / n][mid % n];\\n        if (midVal == target) return true;\\n        else if (midVal < target) left = mid + 1;\\n        else right = mid - 1;\\n    }\\n    return false;\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Search Matrix - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_searchMatrix}}\",\n  \"language\": \"cpp\",\n  \"code\": \"bool searchMatrix(vector<vector<int>>& matrix, int target) {\\n    if (matrix.empty() || matrix[0].empty()) return false;\\n    int m = matrix.size(), n = matrix[0].size();\\n    int left = 0, right = m * n - 1;\\n    while (left <= right) {\\n        int mid = left + (right - left) / 2;\\n        int midVal = matrix[mid / n][mid % n];\\n        if (midVal == target) return true;\\n        else if (midVal < target) left = mid + 1;\\n        else right = mid - 1;\\n    }\\n    return false;\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/submit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "submit"
                            ]
                        }
                    }
                }
            ]
        },
        {
            "name": "6. Valid Parentheses",
            "item": [
                {
                    "name": "Get Valid Parentheses Question",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/api/questions/{{questionId_isValid}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "questions",
                                "{{questionId_isValid}}"
                            ]
                        }
                    }
                },
                {
                    "name": "Run Valid Parentheses - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_isValid}}\",\n  \"language\": \"cpp\",\n  \"code\": \"bool isValid(string s) {\\n    stack<char> st;\\n    for (char c : s) {\\n        if (c == '(' || c == '{' || c == '[') {\\n            st.push(c);\\n        } else {\\n            if (st.empty()) return false;\\n            char top = st.top();\\n            if ((c == ')' && top == '(') || (c == '}' && top == '{') || (c == ']' && top == '[')) {\\n                st.pop();\\n            } else {\\n                return false;\\n            }\\n        }\\n    }\\n    return st.empty();\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/run",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "run"
                            ]
                        }
                    }
                },
                {
                    "name": "Submit Valid Parentheses - C++",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{authToken}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"questionId\": \"{{questionId_isValid}}\",\n  \"language\": \"cpp\",\n  \"code\": \"bool isValid(string s) {\\n    stack<char> st;\\n    for (char c : s) {\\n        if (c == '(' || c == '{' || c == '[') {\\n            st.push(c);\\n        } else {\\n            if (st.empty()) return false;\\n            char top = st.top();\\n            if ((c == ')' && top == '(') || (c == '}' && top == '{') || (c == ']' && top == '[')) {\\n                st.pop();\\n            } else {\\n                return false;\\n            }\\n        }\\n    }\\n    return st.empty();\\n}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/api/submissions/submit",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "submissions",
                                "submit"
                            ]
                        }
                    }
                }
            ]
        }
    ]
}